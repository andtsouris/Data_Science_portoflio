Multivariate linear regression to predict the marathon time of athletes
======
### Abstract
Starting a marathon with a wrong pace is detrimental to the athletes performance. If the athlete starts too slow she can loose too much time that is impossible to regain in the latter part of the race. Starting too fast on the other hand can cause a burnout and the athlete might not manage to even finish the race. It is therefore essential for every marathon runner at the start line to have a realistic time goal in order to start and maintain the correct pace thoughout the race. In this simple analysis I used publicly available data (https://www.kaggle.com/girardi69/marathon-time-predictions) to predict the marathon times of athletes based on their training data for the 4 weeks prior to the race. I am able to predict their marathon time a standard error of estimate (SEE) of 14 mins and 20 seconds sec which is significantly higher to the best predictor to my knowledge (Tanda, 2011) with an SEE of about 4 minutes.

### The data
The data available at https://www.kaggle.com/girardi69/marathon-time-predictions contain of 87 athletes. The dataset describes the marathon time and various training data (average speed, weekly distance, cycling training time) and other data such as age group and runner age based category of the athletes. In this analysis The age based data were not included because they are categorical data with many categories that according to my estimation wouldn't help the prediction.

### Analysis and prediction
To assess if I would be able to use this data to predict marathon times I checked for any correlation between the different variables and the actual marathon time of each athlete.  
<img src="https://github.com/andtsouris/Data_Science_portoflio/blob/main/multivariate_linear_regression-Marathon_time_prediction/assets/marathonTime_distance_corPlot.jpg" alt="Marathon Time vs Distance correlation plot" width="442" height="250">
<img src="https://github.com/andtsouris/Data_Science_portoflio/blob/main/multivariate_linear_regression-Marathon_time_prediction/assets/marathonTime_speed_corPlot.jpg" alt="Marathon Time vs Distance correlation plot" width="442" height="250">

Both the average training speed and the weekly trainnig distance are correlated with the marathon time, as evidenced by the plots shown above. A linear model, lm() function, was used to estimate the athletes marathon time using their weekly training distance, average speed and cycling training time. The linear model was trained using 75% of the datapoints (65 athletes) and resulted in the following equation.  
<img src="https://github.com/andtsouris/Data_Science_portoflio/blob/main/multivariate_linear_regression-Marathon_time_prediction/assets/formulation.jpg" alt="model formulation" height="150">  
An analysis of variance test (anova) showed that the first two variables (weekly running distance and average training speed) contribute significantly to the equation (both  have p-values under 0.2e-06). In contrast the hours of cycling training didn't contribute significantly. This is probably due to the fact that very few athletes were cycling. As a result when trying to optimise the linear model, for the bulk of the athletes, cycling didn't greatly affect the final marathon time.
The model was then used to predict the marathon times of the 21 athletes that were not used in the training step. The model displayed a standard error of estimate of 14 minutes and 20 seconds and was able to predict the time of 90% of the athletes within 20 minutes from their real marathon time.

### Overview and discussion
This attempt to apply multivariate linear regression to marathon running times was proved that the level of performance in training 4 weeks prior to a race partly reflect the performace during the race. However it is widely known that athletes greatly decrease their training volume and intensity during that period in order to be fresh for the race. The reduction of training quantity and intensity probably weakens the correlation between the athletes fitness level and her performance in training during those weeks. A good idea would be to increase that period to the 8 or 12 weeks before the race in order to increase the correlation between the training quanitiy and speed and the athletes potential marathon time. Ideally, I would like to have a dataset containing the training volume (distance per week) and intensity (running speed) along with other parameters sucha as age, average heart rate during training and past performances in order to have a more complete picture. If we look at the benchmark paper from Tanda (2011) he uses all the parameter mentionned above for 8 or 9 weeks prior to the race. Despite the drawbacks in the dataset used here, the multivariate linear regression model gives a fairly well informed prediction that could help beginner marahoners to estimate the pace with which they should start the race.
